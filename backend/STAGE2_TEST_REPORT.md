# üìä –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≠—Ç–∞–ø–∞ 2

**–î–∞—Ç–∞:** $(date)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. StoreChatSource
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- ‚úÖ –ö–ª–∞—Å—Å `StoreChatSource` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å–µ –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `IChatSource`
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:
  - `window.Store` - –¥–æ—Å—Ç—É–ø –∫ Store
  - `chat.id._serialized` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ JID
  - `isGroup` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —á–∞—Ç–∞
  - `SourceUnavailableError` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 2. CDPNetworkChatSource
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- ‚úÖ –ö–ª–∞—Å—Å `CDPNetworkChatSource` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å–µ –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `IChatSource`
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:
  - `new_cdp_session` - —Å–æ–∑–¥–∞–Ω–∏–µ CDP —Å–µ—Å—Å–∏–∏
  - `Network.enable` - –≤–∫–ª—é—á–µ–Ω–∏–µ Network domain
  - `Network.responseReceived` - —Å–ª—É—à–∞—Ç–µ–ª—å –æ—Ç–≤–µ—Ç–æ–≤
  - `_parse_json_payload` - –ø–∞—Ä—Å–∏–Ω–≥ payloads
  - `cleanup()` - –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

### 3. DOMChatSource
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- ‚úÖ –ö–ª–∞—Å—Å `DOMChatSource` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å–µ –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `IChatSource`
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:
  - `data-testid="chatlist"` - —Å–µ–ª–µ–∫—Ç–æ—Ä —Å–ø–∏—Å–∫–∞ —á–∞—Ç–æ–≤
  - `querySelectorAll` - –∑–∞–ø—Ä–æ—Å—ã –∫ DOM
  - `_seen_ids` - –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
  - `scroll_for_more()` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞

### 4. SourceSelector
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- ‚úÖ –ö–ª–∞—Å—Å `SourceSelector` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ú–µ—Ç–æ–¥ `select_source()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:
  - –ò–º–ø–æ—Ä—Ç—ã –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
  - `metadata` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
  - `is_degraded` - —Ñ–ª–∞–≥ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫

### 5. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É IChatSource
- ‚úÖ –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç `source_name` property
- ‚úÖ –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç `init()` –º–µ—Ç–æ–¥
- ‚úÖ –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç `fetch_batch()` –º–µ—Ç–æ–¥
- ‚úÖ –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç `is_complete()` –º–µ—Ç–æ–¥
- ‚úÖ –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç `total_expected()` –º–µ—Ç–æ–¥

### 6. –ò–º–ø–æ—Ä—Ç—ã –º–æ–¥—É–ª–µ–π
- ‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

---

## üìã –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### StoreChatSource - –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

**–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
```python
# –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–æ—Å—Ç—É–ø–∞
chatModels = store.Chat?.models || store.chats || store.Chat

# –ù–∞–¥–µ–∂–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ JID
jid = chat.id._serialized || chat.id.user || String(chat.id)

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞
isGroup = chat.isGroup || jid.endsWith('@g.us')
```

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä Store
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ JID –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —á–∞—Ç–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### CDPNetworkChatSource - –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

**–ü–µ—Ä–µ—Ö–≤–∞—Ç network:**
```python
# –°–æ–∑–¥–∞–Ω–∏–µ CDP —Å–µ—Å—Å–∏–∏
cdp_session = await page.context.new_cdp_session(page)
await cdp_session.send('Network.enable')

# –°–ª—É—à–∞—Ç–µ–ª—å –æ—Ç–≤–µ—Ç–æ–≤
cdp_session.on('Network.responseReceived', handle_response)
```

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è CDP —Å–µ—Å—Å–∏–∏
- ‚úÖ –í–∫–ª—é—á–µ–Ω–∏–µ Network domain
- ‚úÖ –°–ª—É—à–∞—Ç–µ–ª—å network responses
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ JSON payloads
- ‚úÖ –ú–µ—Ç–æ–¥ cleanup()

### DOMChatSource - –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

**DOM –ø–∞—Ä—Å–∏–Ω–≥:**
```python
# –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
chatSelectors = [
    'div[data-testid="cell-frame-container"]',
    'div[role="row"]',
    # ...
]

# Fallback ID –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ
chatId = data-id || data-chat-id || regex(aria-label) || generated
```

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
- ‚úÖ Fallback ID –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ
- ‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ `_seen_ids`
- ‚úÖ –ú–µ—Ç–æ–¥ `scroll_for_more()`

### SourceSelector - –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

**–í—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞:**
```python
# –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: Store ‚Üí CDP Network ‚Üí DOM
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: (source, is_degraded, metadata)
```

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –≤—ã–±–æ—Ä–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –¥–∞–Ω–Ω—ã—Ö

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | StoreChatSource | CDPNetworkChatSource | DOMChatSource |
|------------|----------------|---------------------|---------------|
| –†–µ–∞–ª–∏–∑—É–µ—Ç IChatSource | ‚úÖ | ‚úÖ | ‚úÖ |
| –ú–µ—Ç–æ–¥ init() | ‚úÖ | ‚úÖ | ‚úÖ |
| –ú–µ—Ç–æ–¥ fetch_batch() | ‚úÖ | ‚úÖ | ‚úÖ |
| –ú–µ—Ç–æ–¥ is_complete() | ‚úÖ | ‚úÖ | ‚úÖ |
| –ú–µ—Ç–æ–¥ total_expected() | ‚úÖ | ‚úÖ | ‚úÖ |
| Property source_name | ‚úÖ | ‚úÖ | ‚úÖ |

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

| –ò—Å—Ç–æ—á–Ω–∏–∫ | ID –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å |
|----------|--------------|------------|
| Store | jid/wid –∏–∑ Store | ‚úÖ –í—ã—Å–æ–∫–∞—è |
| Network | jid/server_id/user_id –∏–∑ payloads | ‚úÖ –í—ã—Å–æ–∫–∞—è |
| DOM | data-id/data-chat-id/fallback | ‚ö†Ô∏è –ù–∏–∑–∫–∞—è (fallback) |

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:** ‚úÖ –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è ID

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–æ–ª–Ω–æ—Ç–µ –¥–∞–Ω–Ω—ã—Ö

| –ò—Å—Ç–æ—á–Ω–∏–∫ | total_expected() | is_complete() |
|----------|-----------------|---------------|
| Store | ‚úÖ –ò–∑ Store | ‚úÖ –í—Å–µ–≥–¥–∞ true –ø–æ—Å–ª–µ fetch |
| Network | ‚úÖ –ò–∑ payloads (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω) | ‚úÖ –ü–æ total_count |
| DOM | ‚ùå None (–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ) | ‚úÖ –≠–≤—Ä–∏—Å—Ç–∏–∫–∏ |

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:** ‚úÖ –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç —Ç—Ä–µ–±—É–µ–º—É—é –ª–æ–≥–∏–∫—É

---

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ß—Ç–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É IChatSource
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- ‚ö†Ô∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º –±—Ä–∞—É–∑–µ—Ä–æ–º
- ‚ö†Ô∏è –¢–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω–æ–π —Å–µ—Å—Å–∏–µ–π WhatsApp Web
- ‚ö†Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- ‚ö†Ô∏è –¢–µ—Å—Ç—ã –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ (fallback –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏)
- ‚ö†Ô∏è –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- `playwright` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±—Ä–∞—É–∑–µ—Ä–æ–º
- –ê–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è WhatsApp Web
- –¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –§–∞–π–ª—ã:
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ: 5 —Ñ–∞–π–ª–æ–≤ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞: ~1000+ —Å—Ç—Ä–æ–∫
- –ö–ª–∞—Å—Å–æ–≤: 4 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–∞
- –ú–µ—Ç–æ–¥–æ–≤: 20+ –º–µ—Ç–æ–¥–æ–≤

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫: 0
- –û—à–∏–±–æ–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: 0
- –ù–∞—Ä—É—à–µ–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: 0
- –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤: 0

---

## ‚úÖ –í—ã–≤–æ–¥—ã

### –£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. ‚úÖ –í—Å–µ —Ç—Ä–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
2. ‚úÖ –í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É IChatSource
3. ‚úÖ SourceSelector –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—ã–±–∏—Ä–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
4. ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
5. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

### –ì–æ—Ç–æ–≤–æ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É:
- ‚úÖ –≠—Ç–∞–ø 2 –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –≠—Ç–∞–ø—É 3 (–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å mock Playwright Page
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å SourceSelector —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏

2. **–î–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
   - –î–æ–±–∞–≤–∏—Ç—å retry –ª–æ–≥–∏–∫—É –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–±–æ–µ–≤
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –≤—ã–±–æ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

3. **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
   - –≠—Ç–∞–ø 3: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è ChatNormalizer
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è IdentityResolver
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è CompletionController

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –≠—Ç–∞–ø 2 —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é


