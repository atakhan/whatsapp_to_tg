# üìã –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ —á–∞—Ç–æ–≤ –≤ WhatsApp Web

## –†–µ–∑—é–º–µ

–ù–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∑–∞–≥—Ä—É–∂–µ–Ω–æ **131 —á–∞—Ç** –∏–∑ –±–æ–ª–µ–µ —á–µ–º 100. –î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–∞—Ä—Å–∏–Ω–≥–∞ —á–∞—Ç–æ–≤ –≤ WhatsApp Web.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å fallback

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

1. **Store Source** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1) - –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π
   - **–ò—Å—Ç–æ—á–Ω–∏–∫**: `window.Store` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ WhatsApp Web)
   - **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
     - –°–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
     - –°–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —á–∞—Ç–∞—Ö
     - –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç DOM —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
     - –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
   - **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**:
     - –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
     - –¢—Ä–µ–±—É–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é WhatsApp Web
   - **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –í—Å–µ–≥–¥–∞, –∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω
   - **–°—Ç–∞—Ç—É—Å**: –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —á–∞—Å—Ç–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (—Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é)

2. **CDP Network Source** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2) - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π
   - **–ò—Å—Ç–æ—á–Ω–∏–∫**: –ü–µ—Ä–µ—Ö–≤–∞—Ç —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ Chrome DevTools Protocol
   - **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
     - –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç DOM
     - –ú–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–æ –∏—Ö –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
     - –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ API –∑–∞–ø—Ä–æ—Å—ã WhatsApp
   - **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**:
     - –ú–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å, –µ—Å–ª–∏ —á–∞—Ç—ã —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
     - –¢—Ä–µ–±—É–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
     - –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å 0 —á–∞—Ç–æ–≤, –µ—Å–ª–∏ –Ω–µ—Ç –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –ö–æ–≥–¥–∞ Store –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–µ—Ç–∏
   - **–°—Ç–∞—Ç—É—Å**: –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —á–∞—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 —á–∞—Ç–æ–≤

3. **DOM Source** (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3) - Fallback
   - **–ò—Å—Ç–æ—á–Ω–∏–∫**: –ü–∞—Ä—Å–∏–Ω–≥ DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
     - –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω (–µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞)
     - –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö API
     - –£—Å—Ç–æ–π—á–∏–≤ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
   - **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**:
     - –ó–∞–≤–∏—Å–∏—Ç –æ—Ç DOM —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ WhatsApp Web)
     - –¢—Ä–µ–±—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —á–∞—Ç–æ–≤
     - –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º Store/Network
   - **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –ö–æ–≥–¥–∞ Store –∏ Network –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
   - **–°—Ç–∞—Ç—É—Å**: ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ** - —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∑–∏–ª 131 —á–∞—Ç

## –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –∏–∑ –ª–æ–≥–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (131 —á–∞—Ç –∑–∞–≥—Ä—É–∂–µ–Ω)

```
1. Store source: –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (Chat models not found)
2. CDP Network source: –≤–µ—Ä–Ω—É–ª 0 —á–∞—Ç–æ–≤
3. DOM source fallback: —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∑–∏–ª 131 —á–∞—Ç
   - –ü–µ—Ä–≤—ã–π –±–∞—Ç—á: 66 —á–∞—Ç–æ–≤
   - –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥: scrollHeight —É–≤–µ–ª–∏—á–∏–ª—Å—è (11328 -> 11443)
   - –í—Ç–æ—Ä–æ–π –±–∞—Ç—á: 65 –Ω–æ–≤—ã—Ö —á–∞—Ç–æ–≤
   - –ò—Ç–æ–≥–æ: 131 —á–∞—Ç
```

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –¥–ª—è DOM –ø–∞—Ä—Å–∏–Ω–≥–∞

#### 1. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –±–∞—Ç—á–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ WhatsApp Web –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —á–∞—Ç—ã. –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –±–∞—Ç—á–∞ (66 —á–∞—Ç–æ–≤) –æ—Å—Ç–∞–ª—å–Ω—ã–µ —á–∞—Ç—ã –Ω–µ –±—ã–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ DOM.

**–†–µ—à–µ–Ω–∏–µ**: –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –±–∞—Ç—á–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –¥–æ –∫–æ–Ω—Ü–∞ —Å–ø–∏—Å–∫–∞:

```python
# –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –±–∞—Ç—á–∞ —Å —á–∞—Ç–∞–º–∏
if len(self._seen_ids) == new_chats_count and new_chats_count > 0:
    # –°–∫—Ä–æ–ª–ª–∏—Ç—å –¥–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –Ω–∏–∑–∞
    await self._scroll_to_bottom_aggressive()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- `scrollHeight` —É–≤–µ–ª–∏—á–∏–ª—Å—è —Å 11328 –¥–æ 11443
- –ó–∞–≥—Ä—É–∑–∏–ª–æ—Å—å –µ—â–µ 65 —á–∞—Ç–æ–≤

#### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏—è scrollHeight

–ü–æ—Å–ª–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ –Ω—É–∂–Ω–æ:
1. –ü–æ–¥–æ–∂–¥–∞—Ç—å 2 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —É–≤–µ–ª–∏—á–∏–ª—Å—è –ª–∏ `scrollHeight`
3. –ï—Å–ª–∏ —É–≤–µ–ª–∏—á–∏–ª—Å—è - —Å–∫—Ä–æ–ª–ª–∏—Ç—å –µ—â–µ —Ä–∞–∑ –¥–æ –Ω–æ–≤–æ–≥–æ –Ω–∏–∑–∞

**–õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç**:
```
DOM source: scrollHeight increased after wait: 11328 -> 11443 (virtual scrolling loaded more)
```

#### 3. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –º–µ–∂–¥—É –±–∞—Ç—á–∞–º–∏

–ú–µ–∂–¥—É –±–∞—Ç—á–∞–º–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥:
- –ï—Å–ª–∏ –¥–∞–ª–µ–∫–æ –æ—Ç –Ω–∏–∑–∞ (> 500px) ‚Üí —Å–∫—Ä–æ–ª–ª–∏—Ç—å –Ω–∞ 200% viewport –∏–ª–∏ –º–∏–Ω–∏–º—É–º 1500px
- –ï—Å–ª–∏ –±–ª–∏–∑–∫–æ –∫ –Ω–∏–∑—É (< 500px) ‚Üí —Å–∫—Ä–æ–ª–ª–∏—Ç—å –¥–æ –ø–æ—á—Ç–∏ –Ω–∏–∑–∞ (–æ—Å—Ç–∞–≤–∏—Ç—å 200px –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏)

#### 4. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞:
- –î–æ—Å—Ç–∏–≥–Ω—É—Ç –Ω–∏–∑ —Å–ø–∏—Å–∫–∞ –ò –Ω–µ—Ç –Ω–æ–≤—ã—Ö —á–∞—Ç–æ–≤ –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –∏—Ç–µ—Ä–∞—Ü–∏–π
- –ò–õ–ò –Ω–µ—Ç –Ω–æ–≤—ã—Ö —á–∞—Ç–æ–≤ –≤ —Ç–µ—á–µ–Ω–∏–µ 10 –∏—Ç–µ—Ä–∞—Ü–∏–π (–¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –Ω–∏–∑)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

```python
# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø–æ–ø—ã—Ç–æ–∫:
1. Store Source (5 –ø–æ–ø—ã—Ç–æ–∫ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff)
2. CDP Network Source (—Å –∞–∫—Ç–∏–≤–Ω—ã–º —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–æ–º –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–∞)
3. DOM Source (—Å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–æ–º)
```

### 2. DOM Source - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏

#### –ê. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –±–∞—Ç—á–∞
```python
# –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –±–∞—Ç—á–∞
if len(self._seen_ids) == new_chats_count and new_chats_count > 0:
    await self._scroll_to_bottom_aggressive()
    # –ü–æ–¥–æ–∂–¥–∞—Ç—å 2 —Å–µ–∫—É–Ω–¥—ã
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ scrollHeight
    # –°–∫—Ä–æ–ª–ª–∏—Ç—å –µ—â–µ —Ä–∞–∑, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
```

#### –ë. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –º–µ–∂–¥—É –±–∞—Ç—á–∞–º–∏
```python
# –î–æ –∫–∞–∂–¥–æ–≥–æ –±–∞—Ç—á–∞ (–µ—Å–ª–∏ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –Ω–∏–∑)
for scroll_attempt in range(5):
    scrolled = await self.scroll_for_more()
    if scrolled:
        await asyncio.sleep(1.5)  # –ñ–¥–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏
```

#### –í. –£–º–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–Ω–∞
```python
# –ù–µ —Å—á–∏—Ç–∞—Ç—å "–¥–Ω–æ" —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ
atBottom = scrollTop >= scrollHeight - clientHeight - 300  # 300px –∑–∞–ø–∞—Å
```

### 3. –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è

- –ü–æ—Å–ª–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞: **2.0 —Å–µ–∫—É–Ω–¥—ã**
- –ü–æ—Å–ª–µ –æ–±—ã—á–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞: **1.5 —Å–µ–∫—É–Ω–¥—ã**
- –ú–µ–∂–¥—É –±–∞—Ç—á–∞–º–∏: **1.0 —Å–µ–∫—É–Ω–¥–∞**

### 4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í–∞–∂–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∫—Ä–æ–ª–ª–æ–≤
- –ò–∑–º–µ–Ω–µ–Ω–∏—è `scrollHeight`
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö —á–∞—Ç–æ–≤ –≤ –∫–∞–∂–¥–æ–º –±–∞—Ç—á–µ
- –°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–Ω–∞

## –¢–µ–∫—É—â–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### DOM Source (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ)
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —á–∞—Ç—ã (131 –∏–∑ 131)
- ‚úÖ –£—Å—Ç–æ–π—á–∏–≤ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö API
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞
- ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º Store (–µ—Å–ª–∏ –±—ã –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω)

### Store Source (–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –ª—É—á—à–∏–π)
- ‚ö†Ô∏è –ß–∞—Å—Ç–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π (–∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω)
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é WhatsApp Web

### CDP Network Source (–Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π)
- ‚ö†Ô∏è –ß–∞—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 —á–∞—Ç–æ–≤
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–∞
- ‚úÖ –ú–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚ö†Ô∏è –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –µ—Å–ª–∏ —á–∞—Ç—ã —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

## –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É —Å fallback**:
   - Store ‚Üí Network ‚Üí DOM
   - –ö–∞–∂–¥—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

2. **DOM Source - –Ω–∞–¥–µ–∂–Ω—ã–π fallback**:
   - –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
   - –¢—Ä–µ–±—É–µ—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –±–∞—Ç—á–∞
   - –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —á–∞—Ç—ã (131 –∏–∑ 131)

3. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ**:
   - –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –±–∞—Ç—á–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏—è `scrollHeight`
   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞

4. **–£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –±—É–¥—É—â–µ–≥–æ**:
   - –£–≤–µ–ª–∏—á–∏—Ç—å –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è Store Source (–º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ–∑–∂–µ)
   - –£–ª—É—á—à–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä –¥–ª—è CDP Network Source
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å DOM –ø–∞—Ä—Å–∏–Ω–≥ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ —á–∞—Ç–æ–≤

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- ‚úÖ **131 —á–∞—Ç –∑–∞–≥—Ä—É–∂–µ–Ω** –∏–∑ –±–æ–ª–µ–µ —á–µ–º 100
- ‚úÖ **100% –ø–æ–∫—Ä—ã—Ç–∏–µ** –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–∞—Ç–æ–≤
- ‚úÖ **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º WhatsApp Web
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** —á–µ—Ä–µ–∑ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É fallback

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**DOM Source —Å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–æ–º** - —ç—Ç–æ –Ω–∞–¥–µ–∂–Ω—ã–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–∞—Ä—Å–∏–Ω–≥–∞ —á–∞—Ç–æ–≤ –≤ WhatsApp Web. –•–æ—Ç—è Store Source –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ, DOM Source —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —á–∞—Ç—ã, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –æ—Ç–ª–∏—á–Ω—ã–º –≤—ã–±–æ—Ä–æ–º –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

–ö–ª—é—á–µ–≤–æ–π —É—Å–ø–µ—Ö: **–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –±–∞—Ç—á–∞** –ø–æ–∑–≤–æ–ª–∏–ª –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ 131 —á–∞—Ç, —á—Ç–æ –±—ã–ª–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±–µ–∑ —ç—Ç–æ–π —Ç–µ—Ö–Ω–∏–∫–∏.

